# Copyright (c) 2015, Oracle and/or its affiliates. All rights reserved.
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; version 2 of the License.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

# MySQL Router sample configuration
#
# The following is a sample configuration file which shows
# most of the plugins available and most of their options.
#
# The paths used are defaults and should be adapted based
# on how MySQL Router was installed, for example, using the
# CMake option CMAKE_INSTALL_PREFIX
#
# The logging_folder is kept empty so message go to the
# console.
#
# The fabric_cache plugin only works with the MySQL-RPC
# protocol (by default running on port 32275)
#

#[DEFAULT]
#logging_folder =
#plugin_folder = /usr/local/lib/mysqlrouter
#config_folder = /etc/mysql
#runtime_folder = /var/run

#[logger]
#level = INFO

[fabric_cache]
address = your_fabric_node.example.com:32275
user =
password =

[routing:basic_failover]
# To be more transparent, use MySQL Server port 3306
bind_address = localhost:7001
mode = read-write
destinations = mysql-server1:3306,mysql-server2
# Disconnect idling clients after 100 seconds
wait_timeout = 100

[routing:homepage_reads_fabric]
bind_address = 127.0.0.1:7002
destinations = fabric+cache:///group/homepage_group?allow_primary_reads=yes
mode = read-only
max_connections = 200
